[include mainsail.cfg]
[include ebb.cfg]
[include stepper.cfg]
[include tmc.cfg]
[include idm.cfg]
[include macros.cfg]
[include adxl.cfg]
[include led.cfg]
#[include autotune.cfg]
#[include pico.cfg]
# Enable object exclusion
[exclude_object]

# Enable arcs support
[gcode_arcs]
resolution: 0.1

[idle_timeout]
timeout: 1800

[printer]
kinematics: corexy
max_velocity: 500
max_accel: 10000 # change this to 7500 after commissioning
max_accel_to_decel: 10000
max_z_velocity: 25
max_z_accel: 1000
square_corner_velocity: 5


[mcu CB1]
serial: /tmp/klipper_host_mcu

[mcu]
canbus_uuid=ae4b3775ca3f

[force_move] 
Enable_force_move: true 

[temperature_sensor Pi]
sensor_type: temperature_host

[temperature_sensor Octopus]
sensor_type: temperature_mcu

[temperature_sensor EBB]
sensor_type: temperature_mcu
sensor_mcu: EBBCan
min_temp: 0
max_temp: 90

[temperature_sensor Chamber]
sensor_type: Generic 3950
sensor_pin: PC5
min_temp: 0
max_temp: 120

[multi_pin my_fan]
pins: PF8,PA4

[temperature_fan fan5]
pin=multi_pin:my_fan
#tachometer_pin: PC1
sensor_type: temperature_host
control: watermark
shutdown_speed: 0.0
target_temp: 30.0
min_temp: 15
max_temp: 70
min_speed: 0.4
max_speed: 1.0


[safe_z_home]
home_xy_position: 96, 92
z_hop: 10

[heater_bed]
heater_pin: PA0
sensor_pin: PC4 # TB
sensor_type: NTC 100K MGB18-104F39050L32
max_power: 0.75
min_temp: 0
max_temp: 120
#control: pid
#pid_kp: 58.437
#pid_ki: 2.347
#pid_kd: 363.769



[quad_gantry_level]

gantry_corners:
   -79,-22
   257,251

points:
   15,-15
   15,140
   160,140
   160,-15

speed: 500
horizontal_move_z: 10
retries: 10
retry_tolerance: 0.0075
max_adjust: 10

[bed_mesh]
speed: 500
horizontal_move_z: 10
mesh_min: 20,15                                                                  # CAUTION! = probe_xy = nozzle_xy + offset_xy
mesh_max: 160,155                                                              # CAUTION! = probe_xy = nozzle_xy + offset_xy
probe_count: 20,20
mesh_pps: 3, 3
algorithm: bicubic
zero_reference_position: 90,90



[board_pins]
aliases:
    # EXP1 header
    EXP1_1=PE7, EXP1_2=PG1,
    EXP1_3=PG0, EXP1_4=PF15,
    EXP1_5=PF14, EXP1_6=PF13,    # Slot in the socket on this side
    EXP1_7=PF12, EXP1_8=PF11,
    EXP1_9=<GND>, EXP1_10=<5V>,

    # EXP2 header
    EXP2_1=PE13, EXP2_2=PE12,
    EXP2_3=PE15, EXP2_4=PE11,
    EXP2_5=PE10, EXP2_6=PE14,      # Slot in the socket on this side
    EXP2_7=PE8, EXP2_8=<RST>,
    EXP2_9=<GND>, EXP2_10=<NC>

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [idm model default]
#*# model_coef = 1.4422466890950318,
#*# 	  1.869741773872372,
#*# 	  0.7774751006629674,
#*# 	  0.3823133277259596,
#*# 	  0.29939016893559084,
#*# 	  0.2278165890151669,
#*# 	  -0.17476215364241926,
#*# 	  -0.1672333562077252,
#*# 	  0.2068447843335063,
#*# 	  0.14000294769728053
#*# model_domain = 3.2564383994591467e-07,3.359157587228303e-07
#*# model_range = 0.100000,5.000000
#*# model_temp = 56.068294
#*# model_offset = 0.10000
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 41.240
#*# pid_ki = 2.644
#*# pid_kd = 160.838
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 20.621
#*# pid_ki = 1.285
#*# pid_kd = 82.741
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  0.016102, 0.024362, 0.026988, 0.029225, 0.029412, 0.026665, 0.025793, 0.022305, 0.018335, 0.016938, 0.018064, 0.017077, 0.015839, 0.015931, 0.014628, 0.011631, 0.008704, 0.003741, 0.001538, -0.005949
#*# 	  0.004875, 0.014259, 0.014472, 0.014575, 0.016775, 0.015480, 0.012341, 0.008794, 0.004131, 0.003894, 0.003547, 0.003810, 0.003522, 0.001218, -0.001676, -0.005356, -0.008069, -0.011720, -0.014633, -0.018654
#*# 	  -0.001475, 0.007584, 0.008577, 0.008814, 0.009577, 0.009235, 0.006701, 0.003305, -0.000001, -0.002637, -0.001562, -0.003348, -0.001517, -0.004708, -0.008913, -0.015412, -0.019342, -0.020180, -0.021503, -0.024081
#*# 	  -0.006593, 0.002659, 0.006936, 0.006487, 0.008049, 0.008189, 0.006934, 0.002919, -0.001101, -0.005500, -0.004423, -0.005263, -0.005835, -0.007510, -0.012081, -0.016492, -0.020239, -0.022303, -0.024774, -0.026918
#*# 	  -0.006195, 0.002691, 0.005831, 0.007035, 0.010276, 0.010128, 0.005539, 0.003823, -0.005603, -0.008263, -0.007207, -0.009314, -0.010175, -0.011543, -0.014650, -0.021567, -0.023218, -0.026501, -0.026566, -0.032083
#*# 	  -0.006734, 0.001897, 0.006706, 0.009685, 0.009711, 0.009077, 0.006187, 0.001306, -0.004474, -0.009918, -0.013385, -0.015690, -0.016310, -0.017384, -0.019158, -0.020391, -0.022775, -0.025822, -0.029382, -0.033868
#*# 	  -0.006259, 0.003390, 0.007628, 0.010854, 0.011086, 0.011061, 0.008655, 0.006959, 0.001548, -0.008187, -0.012458, -0.012254, -0.012489, -0.012874, -0.013549, -0.017784, -0.023643, -0.022667, -0.029300, -0.033160
#*# 	  -0.006895, 0.004193, 0.004737, 0.009542, 0.011258, 0.009786, 0.007138, 0.003851, -0.000999, -0.005415, -0.009339, -0.012054, -0.013386, -0.015189, -0.018364, -0.020557, -0.023628, -0.027353, -0.031361, -0.033899
#*# 	  -0.009671, 0.000526, 0.005492, 0.004858, 0.006516, 0.008400, 0.006283, 0.002046, -0.002812, -0.007518, -0.011573, -0.011445, -0.012109, -0.014544, -0.016482, -0.021321, -0.024955, -0.028773, -0.030909, -0.035928
#*# 	  -0.010192, -0.000402, 0.002715, 0.004089, 0.006060, 0.005550, 0.005979, 0.004462, -0.000668, -0.004004, -0.008342, -0.011699, -0.013882, -0.015953, -0.016782, -0.018836, -0.021319, -0.024812, -0.028205, -0.032461
#*# 	  -0.009936, 0.002491, 0.005385, 0.006239, 0.006143, 0.007138, 0.006034, 0.006753, 0.001437, -0.001839, -0.006799, -0.010889, -0.010782, -0.010367, -0.012262, -0.014409, -0.015469, -0.017806, -0.021185, -0.026086
#*# 	  0.000472, 0.010346, 0.010762, 0.012667, 0.012762, 0.014503, 0.015148, 0.015649, 0.011480, 0.007294, 0.002392, -0.002843, -0.004156, -0.004410, -0.004492, -0.005357, -0.007768, -0.010721, -0.012342, -0.018339
#*# 	  0.007125, 0.015489, 0.016369, 0.017166, 0.017367, 0.019313, 0.018985, 0.019753, 0.015817, 0.012557, 0.006403, 0.001434, 0.002364, 0.001516, 0.002397, 0.000137, -0.003805, -0.004874, -0.011071, -0.014795
#*# 	  0.002272, 0.011114, 0.014830, 0.014917, 0.016943, 0.016876, 0.014526, 0.013457, 0.009302, 0.005074, 0.001881, -0.001008, -0.001777, -0.003009, -0.003056, -0.004797, -0.007474, -0.009342, -0.011711, -0.015312
#*# 	  -0.006776, 0.002420, 0.006023, 0.007517, 0.007987, 0.008325, 0.005701, 0.004278, 0.001796, -0.004207, -0.008878, -0.012773, -0.011307, -0.011332, -0.011343, -0.013396, -0.014111, -0.015452, -0.017765, -0.022023
#*# 	  -0.020272, -0.010978, -0.006719, -0.006584, -0.004780, -0.006445, -0.008887, -0.009816, -0.014039, -0.019261, -0.022465, -0.024729, -0.025171, -0.026147, -0.025797, -0.027314, -0.028531, -0.029388, -0.030741, -0.035909
#*# 	  -0.024161, -0.014834, -0.012820, -0.013040, -0.014504, -0.015556, -0.017580, -0.017571, -0.022735, -0.027940, -0.033180, -0.035513, -0.035462, -0.035757, -0.035944, -0.037559, -0.037970, -0.039164, -0.040476, -0.045404
#*# 	  -0.020529, -0.011349, -0.010650, -0.012026, -0.012856, -0.013347, -0.016815, -0.018430, -0.024964, -0.029188, -0.033400, -0.035660, -0.035780, -0.035823, -0.036083, -0.036190, -0.037947, -0.039510, -0.038884, -0.042498
#*# 	  -0.009467, -0.003426, -0.002390, -0.002892, -0.005103, -0.004736, -0.008333, -0.010307, -0.015794, -0.020960, -0.028780, -0.029602, -0.028843, -0.029037, -0.027890, -0.028892, -0.028937, -0.030088, -0.030285, -0.034607
#*# 	  -0.000002, 0.007464, 0.007362, 0.006404, 0.005626, 0.002929, -0.001549, -0.003880, -0.010548, -0.015065, -0.018047, -0.020569, -0.020873, -0.020600, -0.020150, -0.020878, -0.021617, -0.022235, -0.022813, -0.026966
#*# x_count = 20
#*# y_count = 20
#*# mesh_x_pps = 3
#*# mesh_y_pps = 3
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 20.0
#*# max_x = 160.0
#*# min_y = 15.0
#*# max_y = 155.0
